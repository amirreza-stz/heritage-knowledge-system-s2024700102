# Basic SPARQL Queries for Heritage Knowledge System
# These queries work with GraphDB after loading ontology and data

PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX hp: <http://webprotege.stanford.edu/>
PREFIX ex: <http://example.org/heritage/s2024700102#>

# ============================================
# Query 1: Count Total Triples
# ============================================
# Use this to verify all data is loaded
SELECT (COUNT(*) as ?totalTriples)
WHERE {
    ?s ?p ?o .
}

# ============================================
# Query 2: List All People
# ============================================
SELECT ?person ?type ?label
WHERE {
    ?person a hp:RDqiGQVsD47hrqZoozr5QsY .
    ?person a ?type .
    OPTIONAL { ?person rdfs:label ?label }
}
ORDER BY ?person
LIMIT 100

# ============================================
# Query 3: Count People by Type
# ============================================
SELECT ?type (COUNT(?person) as ?count)
WHERE {
    ?person a hp:RDqiGQVsD47hrqZoozr5QsY .
    ?person a ?type .
    ?type rdfs:subClassOf hp:RDqiGQVsD47hrqZoozr5QsY .
}
GROUP BY ?type
ORDER BY DESC(?count)

# ============================================
# Query 4: Count Cultural Items by Type
# ============================================
SELECT ?type ?label (COUNT(?item) as ?count)
WHERE {
    ?item a ?type .
    ?type rdfs:subClassOf hp:RMGAHX6nPHqguUGyQWzWc3 .
    OPTIONAL { ?type rdfs:label ?label }
}
GROUP BY ?type ?label
ORDER BY DESC(?count)

# ============================================
# Query 5: List All Sacred Items
# ============================================
SELECT ?sacredItem ?location
WHERE {
    ?sacredItem a hp:R7pxWOFI810disSa49P9mBh .
    OPTIONAL {
        ?sacredItem hp:RtLU9TCB13ZncDKBBuXmXX ?location .
    }
}
ORDER BY ?sacredItem

# ============================================
# Query 6: List All Rituals with Dates
# ============================================
SELECT ?ritual ?location ?date
WHERE {
    ?ritual a hp:R7mttBU5VPhW5YJQVYDffDM .
    ?ritual hp:R8No5PZTgDSjt4MNRkbAuGe ?location .
    ?ritual hp:RBboBfaALQFmlbSHTvugBOZ ?date .
}
ORDER BY ?date

# ============================================
# Query 7: Find Guardians and What They Care For
# ============================================
SELECT ?guardian ?item ?itemType
WHERE {
    ?guardian a hp:RDqiGQVsD47hrqZoozr5QsY .
    ?guardian hp:RBicyNm8ZNjNz9uoAdHA05E ?role .
    ?role a hp:R8n0Clv4ntakelp3R7JuFo4 .
    ?guardian hp:RC2A3h4SFUS7L6DFLFfGllV ?item .
    ?item a ?itemType .
}
ORDER BY ?guardian

# ============================================
# Query 8: Find Performers and Their Instruments
# ============================================
SELECT ?performer ?instrument ?ritual
WHERE {
    ?performer a hp:R03ZYSVq13JCMj9kLheIM8 .
    OPTIONAL {
        ?performer hp:R8nJXbGpvqynikgtrBpaY34 ?instrument .
    }
    OPTIONAL {
        ?performer hp:Rieouw9IXeGCWXfpJiVtUr ?ritual .
    }
}
ORDER BY ?performer

# ============================================
# Query 9: Find People with Access Levels
# ============================================
SELECT ?person ?accessLevel
WHERE {
    ?person a hp:RDqiGQVsD47hrqZoozr5QsY .
    ?person hp:RCJaWiwRu0H17JaH2SCttq4 ?accessLevel .
}
ORDER BY ?person

# ============================================
# Query 10: Find Items with Required Access Levels
# ============================================
SELECT ?item ?itemType ?requiredAccess
WHERE {
    ?item a ?itemType .
    ?itemType rdfs:subClassOf hp:RMGAHX6nPHqguUGyQWzWc3 .
    ?item hp:RpDGSmirVNb6iFln2laxUV ?requiredAccess .
}
ORDER BY ?itemType ?item
